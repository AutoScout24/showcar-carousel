{"version":3,"sources":["../src/showcar-carousel.js"],"names":[],"mappings":"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","file":"showcar-carousel.js","sourcesContent":["/**\n *\n * @param {string} className\n * @param {HTMLElement} domEl\n * @returns {HTMLElement}\n */\nfunction addClass(className, domEl) {\n    let classList = [], classesString = domEl.getAttribute('class');\n    if (classesString) {\n        classList = classesString.split(' ');\n        if (classList.indexOf(className) === -1) {\n            classesString = classList.concat(className).join(' ');\n        }\n    } else {\n        classesString = className\n    }\n    domEl.setAttribute('class', classesString);\n    return domEl;\n}\n\n/**\n *\n * @param {string} className\n * @param {HTMLElement} domEl\n * @returns {HTMLElement}\n */\nfunction removeClass(className, domEl) {\n    let classList = [], classesString = domEl.getAttribute('class');\n    if (classesString) {\n        classList = classesString.split(' ');\n        if(classList.indexOf(className) !== -1){\n            classList.splice(classList.indexOf(className), 1);\n        }\n        domEl.setAttribute('class', classList.join(' '));\n    }\n    return domEl;\n}\n\n/**\n *\n * @param {string} className\n * @param {HTMLElement} domEl\n * @returns {boolean}\n */\nfunction containsClass(className, domEl) {\n    let classList = [], classesString = domEl.getAttribute('class');\n    if (classesString) {\n        classList = classesString.split(' ');\n    }\n    return classList.indexOf(className) > -1;\n}\n\n\nclass Carousel {\n\n    constructor(element) {\n\n        this.element = element;\n        this.container = null;\n\n        this.pagination = {\n            left: null,\n            right: null\n        };\n\n        this.index = 0;\n        this.refWidth = 330;\n        this.itemWidth = 330;\n        this.touchStart = {};\n        this.touchPrev  = {};\n\n        this.speed = Carousel.Speed.SLOW;\n\n        this.pager = document.createElement('a');\n        addClass('as24-pagination', this.pager);\n        addClass('hide', this.pager);\n        this.pager.href = '#';\n\n        this.element.addEventListener('touchstart', this.touchStartEventHandler.bind(this));\n        this.element.addEventListener('touchmove',  this.touchMoveEventHandler.bind(this));\n        this.element.addEventListener('touchend',   this.touchEndEventHandler.bind(this));\n    }\n\n    /**\n     * Gets all carousel items\n     */\n    get items() {\n        return this.element.querySelectorAll('as24-carousel-item');\n    }\n\n    /**\n     * Initializes the carousel by adding all necessary bits and bolts\n     */\n    init() {\n        this.addContainer();\n        this.resizeItems();\n        this.addPagination();\n        this.calculateEnvironment();\n        this.loadImages();\n    }\n\n    /**\n     * Redraw the whole carousel (can be triggered from outside)\n     */\n    redraw() {\n        this.index = 0;\n        this.resizeItems();\n        this.calculateEnvironment();\n        this.setPaginationButtonsVisibility();\n        this.loadImages();\n        this.moveContainer(0);\n    }\n\n    /**\n     * Resizes the carousel items\n     */\n    resizeItems(){\n        this.orgWidth = this.items[0].getBoundingClientRect().width + 20;\n        if(this.orgWidth === this.refWidth && this.element.offsetWidth < this.refWidth){\n            this.itemWidth = this.element.offsetWidth - 20;\n            [].forEach.call(this.items, element => element.style.width = `${this.itemWidth-20}px`);\n        } else {\n            this.itemWidth = this.items[0].getBoundingClientRect().width + 20;\n        }\n    }\n\n    /**\n     * Handles the touch start event\n     * @param {TouchEvent|Event} event - the event object\n     */\n    touchStartEventHandler(event) {\n        const target = event.target;\n        this.resetTouch();\n        if (!containsClass('as24-pagination', target)) {\n            this.touchStart = this.getTouchCoords(event);\n            this.touchPrev  = this.touchStart;\n        }\n    }\n\n    /**\n     * Handles the touch move event\n     * @param {TouchEvent|Event} event - the event object\n     */\n    touchMoveEventHandler(event) {\n        if (!this.isSwiping()) {\n            return;\n        }\n\n        const touchCoords = this.getTouchCoords(event);\n        const startDiffX  = Math.abs(touchCoords.x - this.touchStart.x);\n        const startDiffY  = Math.abs(touchCoords.y - this.touchStart.y);\n\n        if (startDiffX < startDiffY) {\n            this.resetTouch();\n        } else {\n            event.preventDefault();\n            this.touchPrev = touchCoords;\n        }\n    }\n\n    /**\n     * Handles the touch end event\n     * @param {TouchEvent|Event} event - the event object\n     */\n    touchEndEventHandler(event) {\n        if (!this.isSwiping()) {\n            return;\n        }\n\n        const touchCoords = this.getTouchCoords(event.changedTouches[0]);\n        let touchDiffX    = this.touchStart.x - touchCoords.x;\n        let absTouchDiffX = Math.abs(touchDiffX);\n        let howMany       = Math.ceil(absTouchDiffX / this.itemWidth);\n\n        for (let i = 0; i < howMany; i++) {\n            if (touchDiffX > 0) {\n                this.paginate(Carousel.Direction.RIGHT);\n            } else if (touchDiffX < 0) {\n                this.paginate(Carousel.Direction.LEFT);\n            }\n        }\n    }\n\n    /**\n     * Gets the touch coordinates by its touch event\n     * @param {TouchEvent|Event} event - the event object\n     * @returns {Coordinate} coordinate - object containing some x and y coordinates\n     */\n    getTouchCoords(event) {\n        let touch = event.touches && event.touches[0];\n        return new Carousel.Coordinate(\n            event.clientX || (touch && touch.clientX),\n            event.clientY || (touch && touch.clientY)\n        );\n    }\n\n    /**\n     * Resets the touch coordinates\n     */\n    resetTouch() {\n        this.touchStart = {};\n        this.touchPrev  = {};\n    }\n\n    /**\n     * Checks if the carousel is in swiping mode\n     * @returns {boolean}\n     */\n    isSwiping() {\n        return (Object.keys(this.touchStart).length > 0);\n    }\n\n    /**\n     * Gets all the necessary dimensions and values for calculating distances and the index\n     */\n    calculateEnvironment(){\n        this.itemsLength    = this.container.children.length;\n        this.itemsVisible   = Math.floor(this.element.offsetWidth / this.itemWidth);\n        this.totalReach     = this.container.offsetWidth - this.element.offsetWidth;\n        this.stepLength     = this.speed === Carousel.Speed.SLOW ? this.itemsLength - this.itemsVisible : Math.ceil(this.itemsLength / this.itemsVisible);\n        this.stepWidth      = this.speed === Carousel.Speed.SLOW ? this.itemWidth : Math.floor(this.element.offsetWidth / this.itemWidth) * this.itemWidth;\n    }\n\n    /**\n     * Get the new index for paginating depending on the direction\n     * @param {Direction|String} direction - the pagination direction. 'right' or 'left'\n     */\n    getNewIndex(direction){\n        if(direction === Carousel.Direction.LEFT && this.index > 0){\n            this.index -= 1;\n        } else if(direction === Carousel.Direction.RIGHT && this.index < this.stepLength) {\n            this.index += 1;\n        }\n    }\n\n    /**\n     * Wraps all the carousel items in a wrapper plus a container\n     */\n    addContainer() {\n        let wrapper = document.createElement('div');\n        addClass('as24-carousel-wrapper', wrapper);\n\n        this.container = document.createElement('div');\n\n        addClass('as24-carousel-container', this.container);\n\n        [].forEach.call(this.element.children, element => {\n            let item = element.cloneNode(true);\n            this.container.appendChild(item);\n        });\n\n        wrapper.appendChild(this.container);\n\n        this.element.innerHTML = '';\n        this.element.appendChild(wrapper);\n    }\n\n    /**\n     * Adds the 'left' and 'right 'pagination buttons\n     */\n    addPagination() {\n        for (let direction of [Carousel.Direction.LEFT, Carousel.Direction.RIGHT]){\n            this.createPaginationButton(direction);\n        }\n        removeClass('hide', this.pagination.right);\n    }\n\n    /**\n     * Creates the pagination buttons and event listeners\n     * @param {Direction|String} direction - the pagination direction. 'right' or 'left'\n     */\n    createPaginationButton(direction) {\n        let button = this.pagination[direction] = this.pager.cloneNode(true);\n        button.setAttribute('data-direction',direction);\n\n        button.addEventListener('mouseup', e => {\n            e.stopPropagation();\n            e.preventDefault();\n            this.paginate(direction);\n        });\n\n        button.addEventListener('click', e => e.preventDefault());\n\n        this.element.appendChild(button);\n    }\n\n    /**\n     * The handler for the pagination event\n     * @param {Direction|String} direction - the pagination direction. 'right' or 'left'\n     */\n    paginate(direction){\n        this.getNewIndex(direction);\n        let distance = this.calculateDistance();\n        this.setPaginationButtonsVisibility();\n        this.loadImages();\n        this.moveContainer(distance);\n    }\n\n    /**\n     * Calculates the moving distance\n     */\n    calculateDistance(){\n        let distance =  this.index * this.stepWidth;\n        distance = distance > this.totalReach ? this.totalReach : distance;\n        return ~ distance + 1;\n    }\n\n    /**\n     * Moves the container by the given distance\n     * @param {Number} distance - the moving distance\n     */\n    moveContainer(distance){\n        distance = distance | 0;\n        this.container.style.transform = 'translate3d(' + distance + 'px, 0, 0)';\n        this.container.style.webkitTransform = 'translate3d(' + distance + 'px, 0, 0)';\n    }\n\n    /**\n     * Sets the visibility of the pagination buttons\n     */\n    setPaginationButtonsVisibility(){\n        if(this.index === 0){\n            addClass('hide', this.pagination.left);\n        } else {\n            removeClass('hide', this.pagination.left);\n        }\n        if(this.index === this.stepLength){\n            addClass('hide', this.pagination.right);\n        } else {\n            removeClass('hide', this.pagination.right);\n        }\n    }\n\n    /**\n     * Only loads the images of the carousel items that are currently visible\n     */\n    loadImages(){\n        let start = this.index;\n        let itemsVisible = Math.ceil(this.element.offsetWidth / this.itemWidth);\n        let end = this.speed === Carousel.Speed.SLOW ? this.index + itemsVisible : (this.index + 1) * itemsVisible;\n        end = end > this.itemsLength ? this.itemsLength : end;\n        for(let i = start; i < end; i++ ){\n            let images = this.container.children[i].querySelectorAll('img');\n            [].forEach.call(images, image => {\n                let src = image.getAttribute('data-src');\n                if(src !== null){\n                    image.setAttribute('src',src);\n                    image.removeAttribute('data-src');\n                }\n            });\n        }\n    }\n}\n\n\n\n/**\n * Direction Enum string values.\n * @enum {string}\n * @readonly\n */\nCarousel.Direction = {\n    LEFT: 'left',\n    RIGHT: 'right'\n};\n\n\n/**\n * Speed Enum string values.\n * @enum {string}\n * @readonly\n */\nCarousel.Speed = {\n    SLOW: 'slow',\n    FAST: 'fast'\n};\n\n\n/**\n * @typedef Coordinate\n * @type Object\n * @property {number} [x = 0] - The X Coordinate\n * @property {number} [y = 0] - The Y Coordinate\n */\nCarousel.Coordinate = function(x = 0, y = 0){\n    return {\n        x: x,\n        y: y\n    }\n};\n\n/**\n * gets the current client height.\n * @returns {number}\n */\nfunction getWindowWidth() {\n    return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n}\n\n/**\n * Handler for resizing\n */\nfunction resizeHandler() {\n    let currentWindowWidth = getWindowWidth();\n    if(this.windowWidth !== currentWindowWidth){\n        this.windowWidth = currentWindowWidth;\n        this.carousel.redraw();\n    }\n}\n\n/**\n * Gets called after the element is created\n */\nfunction elementCreatedHandler() {\n    this.carousel = new Carousel(this);\n}\n\n/**\n * Gets called when the element is attached to the dom\n */\nfunction elementAttachedHandler() {\n    this.carousel.init();\n    this.windowWidth = getWindowWidth();\n    window.addEventListener('resize', () =>{\n        clearTimeout(resizeHandler);\n        setTimeout(resizeHandler.bind(this),300);\n    });\n}\n\n/**\n * Registering the carousel component\n */\ntry {\n    document.registerElement('as24-carousel', {\n        prototype: Object.assign(\n            Object.create( HTMLElement.prototype, {\n                createdCallback: { value: elementCreatedHandler },\n                attachedCallback: { value: elementAttachedHandler }\n            }), {\n                redraw: function () {\n                    this.carousel.redraw();\n                }\n            }\n        )\n    });\n} catch (e) {\n    if (window && window.console) {\n        window.console.warn('Failed to register CustomElement \"as24-carousel\".', e);\n    }\n}\n"]}