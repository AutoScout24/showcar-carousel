!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(this,function(){"use strict";function t(){this.carousel=new C(this)}function e(){this.carousel.attached()}function n(){this.carousel.detached(),delete this.carousel}var i=function(t,e){return e.classList.add(t),e},r=function(t,e){return e.classList.remove(t),e},o=function(t,e,n){return n?(i(t,e),!0):(r(t,e),!1)},s=function(t,e){return Array.prototype.forEach.call(e,t)},a=function(t,e){for(var n in e)t[n]=e[n]},c=function(t){return Array.from(t).map(function(t,e){return e})},u=function(t,e,n,i,r,o){var s=0;return"infinite"===t?(s=i+e,s<0?n-1:s>n-1?0:s):"finite"===t?(s=i,e>0&&!o?i:(s=i+e,s<0?0:s)):void 0},h=function(t,e){var n=m(t,!1),i=m(e.children.item(0),!0),r=Array.from(e.children).reduce(function(t,e){return t+=m(e,!0)},0),o=r-n,s=Math.floor(n/i);return{maxOffset:o,itemWidth:i,itemsVisible:s}},l=function(t,e,n){return n.map(function(n,i){return t(e[i],n)})},d=function(t){return Object.keys(t).length>0},f=function(t,e){var n=null;return function(){n||(t(),n=setTimeout(function(){clearTimeout(n),n=null},e))}},m=function(t,e){var n=getComputedStyle(t),i=parseFloat(n.width),r=parseFloat(n.marginLeft),o=parseFloat(n.marginRight),s=o===r?r:o;return e&&(i+=s),i},v=function(t){var e=t.touches&&t.touches[0];return new p(t.clientX||e&&e.clientX,t.clientY||e&&e.clientY)},p=function(){function t(t,e){this.x=t,this.y=e}return t}(),g=function(t,e,n,i,s){return!(!t||!e)&&("infinite"===n?(r("as24-carousel__button--hidden",t),r("as24-carousel__button--hidden",e),!0):(o("as24-carousel__button--hidden",t,i),o("as24-carousel__button--hidden",e,s),!0))},b=function(t,e,n){return t.dispatchEvent(new CustomEvent("as24-carousel.slide",{detail:{id:t.id,role:t.getAttribute("role"),direction:e,index:n},bubbles:!0}))},E=function(t,e,n){return!!t&&(t.innerHTML=e+"/"+n,!0)},y=function(t,e){return t.style.transform="translate3d("+-1*e+"px, 0, 0)",t.style.webkitTransform="translate3d("+-1*e+"px, 0, 0)",!0},L=function(t,e){return t.style.order=e.toString(),e},w=function(t,e){return l(L,t,e)},x=function(t,e,n){return e.forEach(function(t){return r("as24-carousel__item--static",t)}),n.forEach(function(n,r){n>t-1&&i("as24-carousel__item--static",e[r])}),e},_=function(t,e,n){var i=t*e;return i>n?n:i},S=function(t,e){var n=e.element,i=e.container,r=e.offset,o=e.index,s=e.pagination,a=h(n,i),c=a.itemWidth,l=a.maxOffset,d=a.itemsVisible;return o=u("finite",t,i.children.length,o,d,r<l),r=_(o,c,l),g(s.left,s.right,"finite",r<=0,r>=l),r>0&&r<l&&b(n,t,o),E(s.indicator,o+1,i.children.length),y(i,r),{index:o,offset:r}},A=function(t,e){if(t<0){var n=e[0],i=e.slice(1);return i.concat(n)}if(t>0){var r=e.pop();return[r].concat(e)}return e},M=function(t,e){var n=t.element,o=t.container,s=t.itemsOrder,a=(t.offset,t.index,h(n,o).itemWidth,Array.from(o.children));e?r("as24-carousel__container--static",o):(i("as24-carousel__container--static",o),x(2,a,w(a,s))),y(o,0)},O=function(t,e){var n=e.element,o=e.container,s=e.itemsOrder,a=e.offset,c=e.index,l=e.pagination,d=h(n,o),f=d.itemWidth,m=(d.itemsVisible,Array.from(o.children));return c=u("infinite",t,o.children.length-1,c),a=t*f,s=A(t,s),t<0?(i("as24-carousel__container--static",o),x(2,m,w(m,s)),y(o,-1*a),M(e,!0)):t>0&&(r("as24-carousel__container--static",o),y(o,a)),g(l.left,l.right,"infinite"),b(n,t,c),E(l.indicator,c+1,o.children.length),{index:c,offset:a,itemsOrder:s}},T=function(t,e,n){switch(e){case"infinite":return O(t,n);case"finite":return S(t,n)}},C=function(){function t(t){var e=this;this.index=0,this.offset=0,this.mode="finite",this.pagination={left:null,right:null,indicator:null},this.touchStart=new p(0,0),this.element=t,this.mode=this.element.getAttribute("loop")||"finite",this.container=this.element.querySelector('[role="container"]'),"infinite"===this.mode&&(this.itemsOrder=c(this.container.children),this.container.addEventListener("transitionend",function(t){M(e,!1)}))}return t.prototype.attached=function(){var t=this;this.resizeListener=f(T.bind(null,0,this.mode,this),100),this.touchStartListener=this.touchStartEventHandler.bind(this),this.touchMoveListener=this.touchMoveEventHandler.bind(this),this.touchEndListener=this.touchEndEventHandler.bind(this),window.addEventListener("resize",this.resizeListener,!0),this.element.addEventListener("touchstart",this.touchStartListener,!0),this.element.addEventListener("touchmove",this.touchMoveListener,!0),this.element.addEventListener("touchend",this.touchEndListener,!0),s(function(e){var n=e.getAttribute("data-direction");t.pagination[n]=e,e.addEventListener("mouseup",function(e){e.stopPropagation(),e.preventDefault(),a(t,T("left"===n?-1:1,t.mode,t))}),e.addEventListener("click",function(t){return t.preventDefault()})},this.element.querySelectorAll('[role="nav-button"]')),this.pagination.indicator=this.element.querySelector('[role="indicator"]'),a(this,T(0,this.mode,this))},t.prototype.detached=function(){window.removeEventListener("resize",this.resizeListener,!0),this.element.removeEventListener("touchstart",this.touchStartListener,!0),this.element.removeEventListener("touchmove",this.touchMoveListener,!0),this.element.removeEventListener("touchend",this.touchEndListener,!0)},t.prototype.touchStartEventHandler=function(t){this.touchStart={};var e=t.target;e.hasAttribute("data-direction")||(this.touchStart=v(t))},t.prototype.touchMoveEventHandler=function(t){if(d(this.touchStart)){var e=v(t),n=Math.abs(e.x-this.touchStart.x),i=Math.abs(e.y-this.touchStart.y);n<i?this.touchStart={}:t.preventDefault()}},t.prototype.touchEndEventHandler=function(t){if(d(this.touchStart)){var e=v(t.changedTouches[0]);a(this,T(this.touchStart.x-e.x>0?1:-1,this.mode,this))}},t.prototype.goTo=function(t){var e=t>this.index?1:-1;a(this,T(e,this.mode,this))},t}();try{document.registerElement("as24-carousel",{prototype:Object.assign(Object.create(HTMLElement.prototype,{createdCallback:{value:t},attachedCallback:{value:e},detachedCallback:{value:n},attributeChangedCallback:{value:function(){}}}),{redraw:function(){this.carousel.redraw()},goTo:function(t){this.carousel.goTo(t)},getIndex:function(){return this.carousel.index}})})}catch(t){window&&window.console&&window.console.warn('Failed to register CustomElement "as24-carousel".',t)}});
//# sourceMappingURL=showcar-carousel.min.js.map